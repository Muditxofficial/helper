def create_custom_filename(pdf_path, source_dir):
    # Get relative path from source_dir
    relative_path = os.path.relpath(pdf_path, source_dir)
    path_parts = Path(relative_path).parts

    # You can customize how deep to go; here we use last 3 meaningful parts
    parent = path_parts[-4] if len(path_parts) >= 4 else "folder"
    child = path_parts[-3] if len(path_parts) >= 3 else "sub"
    original_file = Path(pdf_path).stem

    # Join them to form new name
    new_filename = f"{parent}-{child}-{original_file}.txt"
    return new_filename
